# Web Searcher Agent
type: "openagents.agents.collaborator_agent.CollaboratorAgent"
agent_id: "web-searcher"

config:
  model_name: "qwen3-30b-a3b"
  max_iterations: 5

  tools:
    - name: "search_web"
      description: "Search the web for information."  # ğŸŸ¢ ä¿®å¤ï¼šè¡¥å…¨è¿™ä¸ªå­—æ®µ
      implementation: "tools.web_search.search_web"
      input_schema: {type: object, properties: {query: {type: string}, count: {type: integer}}, required: ["query"]}
    
    - name: "search_hackernews"
      description: "Search Hacker News."  # ğŸŸ¢ ä¿®å¤ï¼šè¡¥å…¨è¿™ä¸ªå­—æ®µ
      implementation: "tools.web_search.search_hackernews"
      input_schema: {type: object, properties: {query: {type: string}}, required: ["query"]}

    - name: "fetch_webpage"
      description: "Fetch page content." # ğŸŸ¢ ä¿®å¤ï¼šè¡¥å…¨è¿™ä¸ªå­—æ®µ
      implementation: "tools.web_search.fetch_webpage"
      input_schema: {type: object, properties: {url: {type: string}}, required: ["url"]}

  instruction: |
    You are the WEB SEARCHER. You are energetic and eager.
    
    RULE: 
    1. Search first.
    2. BRAG about findings in chat (use send_project_message).
    3. Send raw data to router (use send_event).

  react_to_all_messages: false

  triggers:
    # ğŸŸ¢ ç»Ÿä¸€ç›‘å¬ task.delegate
    - event: "task.delegate"
      instruction: &search_logic |
        Query: payload.query
        ProjectID: payload.project_id
        
        1. search_web(query=Query, count=3)
        2. search_hackernews(query=Query, count=3)
        
        3. **Speak:** Call `send_project_message`:
           - project_id: ProjectID
           - content: {"text": "ğŸ” **æƒ…æŠ¥æœé›†å®Œæ¯•ï¼**\n\nè€æ¿ï¼Œå…³äºâ€œ" + Query + "â€ï¼Œæˆ‘æŒ–åˆ°äº†ä¸å°‘çŒ›æ–™ï¼ğŸ”¥\n\næˆ‘å‘ç°äº†ï¼š\n1. [Source 1]\n2. [Source 2]\n\næ­£åœ¨æŠŠæ•°æ®ä¼ ç»™ Routerï¼Œè¯·ç¨ç­‰ï¼ğŸƒâ€â™‚ï¸"}
        
        4. **Report:** Call `send_event`:
           - event_name: "task.complete"
           - destination_id: "router"
           - payload: {"task_id": "voice_1", "results": [FULL RAW RESULTS], "status": "success"}
           
        5. finish()

mods:
  - name: "openagents.mods.workspace.project"
    enabled: true
  - name: "openagents.mods.workspace.default"
    enabled: true
  - name: "openagents.mods.workspace.messaging"
    enabled: true

connection:
  host: "localhost"
  port: 8700
  transport: "grpc"
  password_hash: "3588bb7219b1faa3d01f132a0c60a394258ccc3049d8e4a243b737e62524d147"